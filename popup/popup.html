<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link href="popup.css" rel="stylesheet" />
    <script src="popup.mjs" type="module"></script>
  </head>
  <body>
    <form class="m-2" id="inputForm">
      <h3>Descendant Finder</h3>
      <div class="form-group" width="200" hidden>
        <select class="form-control" id="environment">
          <option value="" selected>Select Environment</option>
          <option value="int">Integration</option>
          <option value="beta">Beta</option>
          <option value="prod">Production</option>
        </select>
      </div>
      <div class="form-group" hidden>
        <input
          type="text"
          class="form-control"
          id="sessionId"
          aria-describedby="sessionId"
          placeholder="Session ID"
        />
      </div>
      <div class="form-group">
        <label>
          Person ID
          <input type="text" class="form-control" id="personId" placeholder="Person ID" />
        </label>
      </div>
      <button type="button" class="btn btn-secondary mb-2" id="toggleAdvanced">
        Show Advanced
      </button>
      <div id="advanced" hidden>
        <div>
          <label>
            Marriage Age Threshold
            <input
              type="number"
              min="15"
              max="100"
              class="form-control"
              id="marriageAgeThreshold"
              placeholder="Minimum Marriage Age"
              value="20"
            />
          </label>
          <p>
            Show results for people who are unmarried and have an age greater than the threshold
          </p>
        </div>
        <div>
          <label>
            No Children Age Threshold
            <input
              type="number"
              min="15"
              max="100"
              class="form-control"
              id="noChildrenAgeThreshold"
              placeholder="Minimum Age Without Children"
              value="30"
            />
          </label>
          <p>
            Show results for people who are married, have no children, and have an age greater than
            the threshold
          </p>
        </div>
        <div>
          <label>
            Death Year Threshold
            <input
              type="number"
              min="1400"
              max="2000"
              class="form-control"
              id="deathYearThreshold"
              placeholder="Maximum Death Year"
              value="1980"
            />
          </label>
          <p>
            Show results for people who died before this threshold
          </p>
        </div>
      </div>
      <div id="bottomControls">
        <button type="submit" id="findButton" class="btn btn-primary">Find Descendants</button>
        <span id="searchCountContainer" hidden>
          <div>Persons evaluated: <span id="processedCountBox"></span></div>
          <div>Persons found: <span id="resultCountBox"></span></div>
        </span>
      </div>
    </form>
    <div id="results">
      <p>Press "Find Descendants" to view results!</p>
    </div>
  </body>
</html>
